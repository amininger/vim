function! GetEditCommandForFile()
	let line_arr = split(getline('.'), "|")
	let filename = line_arr[0]
	let lineno = line_arr[1]
	return "e +".lineno." ".filename
endfunction
	
function! OpenFileUnderCursorInUpperWindow()
	let editcmd=GetEditCommandForFile()
	wincmd k
	execute(editcmd)
endfunction

nmap <silent> ;n :call OpenFileUnderCursorInUpperWindow()<CR>

function! OpenPrevFileInWindow()
	wincmd j
	execute "normal! k"
	let editcmd=GetEditCommandForFile()
	wincmd k
	execute(editcmd)
endfunction

function! OpenNextFileInWindow()
	wincmd j
	execute "normal! j"
	let editcmd=GetEditCommandForFile()
	wincmd k
	execute(editcmd)
endfunction


nnoremap <C-Up> :call OpenPrevFileInWindow()<CR>
nnoremap <C-Down> :call OpenNextFileInWindow()<CR>



